% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/run_power_grid.R
\name{run_power_grid}
\alias{run_power_grid}
\title{Run Power Analysis Grid Search}
\usage{
run_power_grid(
  data_clean,
  unit_var,
  group_var,
  time_var,
  outcome,
  pta_type = c("cs", "imputation"),
  enforce_type = list(NULL),
  percent_effect = seq(0.05, 0.2, 0.05),
  transform_outcome = list(NULL),
  controls = list(NULL),
  models_to_run = c("cs", "imputation"),
  n_sims = 100,
  parallel = FALSE,
  n_cores = NULL
)
}
\arguments{
\item{data_clean}{Clean panel dataset (same as run_power_analysis)}

\item{unit_var}{Unit identifier column name (same as run_power_analysis)}

\item{group_var}{Treatment cohort column name (same as run_power_analysis)}

\item{time_var}{Time variable column name (same as run_power_analysis)}

\item{outcome}{Outcome variable column name (same as run_power_analysis)}

\item{pta_type}{Vector of PTA types to test. Default: c("cs", "imputation")}

\item{enforce_type}{List of enforce_type specifications. Each element can be NULL or character vector of controls.
Default: list(NULL)}

\item{percent_effect}{Vector of effect sizes to test. Default: seq(0.05, 0.20, 0.05)}

\item{transform_outcome}{Vector of outcome transformations. Default: c(NULL, "log")}

\item{controls}{List of control variable sets. Each element is a character vector or NULL.
Default: list(NULL)}

\item{models_to_run}{Models to estimate (same as run_power_analysis). Default: c("cs", "imputation")}

\item{n_sims}{Number of simulations per specification (same as run_power_analysis). Default: 100}

\item{parallel}{Whether to use parallel processing. Default: FALSE}

\item{n_cores}{Number of cores if parallel=TRUE. Default: NULL (uses all available - 1)}
}
\value{
A list with two components:
\describe{
\item{final_power}{data.table with power analysis results for all specifications}
\item{specifications}{data.table summarizing the grid of specifications run}
}
}
\description{
Convenience wrapper around run_power_analysis() that runs power analysis
across multiple parameter combinations. Accepts vectors for key parameters
and iterates over all combinations.
}
\examples{
\dontrun{
# Test multiple effect sizes and PTA methods
results <- run_power_grid(
  data_clean = my_data,
  unit_var = "state_fips",
  group_var = "year_passed",
  time_var = "year",
  outcome = "dv_rate",
  pta_type = c("cs", "imputation"),
  percent_effect = seq(0.05, 0.15, 0.05),
  n_sims = 100
)

# With multiple control sets
results <- run_power_grid(
  data_clean = my_data,
  unit_var = "state_fips",
  group_var = "year_passed",
  time_var = "year",
  outcome = "dv_rate",
  controls = list(
    NULL,
    c("unemp_rate"),
    c("unemp_rate", "crime_rate")
  ),
  percent_effect = c(0.10, 0.15),
  n_sims = 100
)
}

}
